string_petitions = [
    "080140423000144;2023-02",
    "080140423000073;2023-01",
    "080140423000020;2022-12|2022-11",
    "080140422000663;2022-10",
    "080140422000654;2022-10",
    "080140422000640;2022-09",
    "080140422000597;2022-08",
    "080140422000549;2022-05|2022-01",
    "080140422000529;2022-08",
    "080140422000492;2022-07",
    "080140422000405;2022-06",
    "080140422000384;2022-05|2022-04",
    "080140422000227;2022-02|2022-01",
    "080140422000222;2017-12|2017-01",
    "080140422000223;2018-01|2018-12",
    "080140422000224;2019-12|2019-01",
    "080140422000225;2020-01|2020-12",
    "080140422000226;2021-12|2021-01",
    "080140422000214;2022-03",
    "080140422000179;2022-02",
    "080142923000092;2023-02",
    "080142923000056;2023-01",
    "080142923000021;2022-12|2022-11",
    "080142922000465;2022-10",
    "080142922000457;2022-09",
    "080142922000421;2022-08",
    "080142922000355;2022-08",
    "080142922000328;2022-07",
    "080142922000274;2022-06",
    "080142922000262;2022-05|2022-04",
    "080142922000153;2022-03",
    "080142922000122;2022-02",
    "080142921000137;2021-10",
    "174722021;2017-01|2021-07",
    "231287000010523;2023-01",
    "231287000002523;2022-12|2022-11",
    "231287000068122;2022-10",
    "231287000067422;2022-09",
    "231287000065322;2022-08|2022-07",
    "231287000051422;2022-06|2022-01",
    "231287000036622;2022-02",
    "191105523000160;2023-02",
    "191105523000094;2023-01",
    "191105523000033;2022-12|2022-11",
    "191105522000502;2022-10",
    "191105522000490;2022-09",
    "191105522000473;2022-08",
    "191105522000313;2022-06",
    "191105522000389;2022-07",
    "191105522000309;2022-06",
    "191105522000284;2022-05|2022-04",
    "191105522000160;2020-01|2020-12",
    "191105522000158;2018-01|2018-12",
    "191105522000162;2022-01|2022-03",
    "191105522000157;2017-12|2017-01",
    "191105522000159;2019-12|2019-01",
    "191105522000161;2021-12|2021-01",
    "191105522000124;2021-02",
    "231825800000823;2023-01",
    "231825800000323;2022-12|2022-11",
    "231825800008522;2022-10",
    "231825800008322;2022-09",
    "231825800007822;2022-08|2022-07",
    "231825800004022;2022-06|2022-01",
    "231825800001322;2022-02",
    "231849700001523;2023-02",
    "231849700001023;2023-01",
    "231849700000223;2022-12|2022-11",
    "231849700008722;2022-10",
    "231849700008522;2022-09",
    "231849700008022;2022-08|2022-07",
    "231849700004522;2022-06|2022-03",
    "231849700001622;2022-02",
    "231857800000523;2023-02",
    "231857800000323;2023-01",
    "231857800000123;2022-12|2022-11",
    "231857800003522;2022-10",
    "231857800003322;2022-09",
    "231857800003122;2022-08|2022-07",
    "231857800001722;2022-06|2022-01",
    "231857800000622;2022-02",
    "170357123000088;2023-01",
    "170357123000021;2022-12|2022-11",
    "170357122000899;2022-10",
    "170357122000877;2022-09",
    "170357122000830;2022-08",
    "170357122000513;2022-06",
    "170357122000477;2022-05",
    "170357122000717;2022-07",
    "170357122000509;2022-06",
    "170357122000257;2020-01|2020-12",
    "170357122000254;2017-12|2017-01",
    "170357122000258;2021-12|2021-01",
    "170357122000255;2018-01|2018-12",
    "170357122000256;2019-12|2019-01",
    "170357122000259;2022-01|2022-03",
    "090163323001287;2023-02",
    "090163323000682;2023-01",
    "090163323000080;2022-12|2022-11",
    "090163322006719;2022-10",
    "090163322006294;2022-08",
    "090163322004756;2022-06",
    "0108000375421;2021-07",
    "090163322005561;2021-12",
    "090163322005447;2022-07",
    "090163322004622;2022-06",
    "090163322004431;2022-05|2022-04",
    "090163322003038;2022-03",
    "090163322002103;2022-02",
    "090163322001975;2021-02",
    "090163322001338;2022-02|2022-01",
    "090163321003264;2021-11",
    "090163321000430;2021-08|2021-09",
    "0108000372421;2017-01|2021-07",
    "311216923000058;2023-02",
    "311216923000038;2023-01",
    "311216923000008;2022-12|2022-11",
    "311216922000423;2022-10",
    "311216922000418;2022-09",
    "311216922000324;2022-07",
    "311216922000278;2022-06",
    "311216922000259;2022-05|2022-04",
    "311216922000116;2022-02",
    "311216922000110;2021-02",
    "311216921000072;2021-10",
    "311216921000034;2021-08|2021-09",
    "00815421;2021-07",
    "311216922000398;2022-08",
    "311216921000033;2021-08|2021-09",
    "311216922000073;2022-02|2022-01",
    "00811221;2017-01|2021-07",
    "250483800014023;2023-02",
    "250483800008023;2023-01",
    "250483800002123;2022-12|2022-11",
    "250483800063422;2022-10",
    "250483800062422;2022-09",
    "250483800059622;2022-08",
    "250483800033422;2022-05",
    "250483800045922;2022-07",
    "250483800035222;2022-06",
    "250483800018322;2022-01",
    "250483800018022;2019-12|2019-01",
    "250483800017822;2017-12|2017-01",
    "250483800017922;2018-01|2018-12",
    "250483800018122;2020-01|2020-12",
    "250483800018222;2021-12|2021-01",
    "250483800017722;2022-03",
    "250483800012322;2022-02",
    "231413500005923;2023-02",
    "231413500003623;2023-01",
    "231413500000823;2022-12|2022-11",
    "231413500032922;2022-10",
    "231413500032422;2022-09",
    "231413500031622;2022-08|2022-07",
    "00629221;2021-07",
    "231413500021822;2022-06|2022-01",
    "231413500008222;2021-02",
    "231413500005222;2022-02|2022-01",
    "231413500015521;2021-11",
    "231413500008521;2021-10",
    "231413500003721;2021-08|2021-09",
    "00625921;2017-01|2021-07",
    "261156723000087;2023-02",
    "261156723000046;2023-01",
    "261156723000013;2022-12|2022-11",
    "261156722000472;2022-10",
    "261156722000459;2022-09",
    "261156722000316;2022-06",
    "261156722000443;2022-08",
    "261156722000384;2022-07",
    "261156722000315;2022-06",
    "261156722000304;2022-05|2022-04",
    "261156722000176;2022-03",
    "261156722000124;2022-02",
    "261156722000116;2021-02",
    "261156722000070;2022-02|2022-01",
    "261156721000186;2021-11",
    "261156721000124;2021-10",
    "261156721000052;2021-08|2021-09",
    "00872;2022-10",
    "00863;2022-09",
    "489909;2022-08",
    "476805;2022-07",
    "467797;2022-06",
    "462124;2022-05|2022-04",
    "447465;2022-03",
    "438417;2022-02",
    "392986;2017-01|2021-07"]


def recover():
    from inai.models import Petition, MonthRecord
    for pet in string_petitions:
        folio_petition, dates = pet.split(";")
        dates = dates.split("|")
        petition = Petition.objects.get(folio_petition=folio_petition)
        if petition.month_records.exists():
            continue
        if len(dates) == 1:
            month_record = MonthRecord.objects.get(
                provider=petition.agency.provider, year_month=dates[0])
            # petition.month_records.add(month_record)
        else:
            end, start = dates
            month_records = MonthRecord.objects.filter(
                provider=petition.agency.provider,
                year_month__gte=start, year_month__lte=end)
            petition.month_records.add(*month_records)
        petition.save()
        # print(petition.folio, petition.month_records.all())
